include mixins/message

doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(http-equiv="X-UA-Compatible", content="IE=edge")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    title #{pageTitle} | #{siteName}
    link(rel="stylesheet", href="https://unpkg.com/mvp.css@1.12/mvp.css")
    link(rel="stylesheet", href="/static/css/styles.css")
  body
    if messages.error
      +message("error", messages.error)
    if messages.info 
      +message("info", messages.info)
    if messages.success 
      +message("success", messages.success)
    header
      nav
        ul
          li
            a(href="/") Home &rarr;
          if loggedIn
            li
              a(href="/video/upload") Upload Video &rarr;
            li
              a(href=`/users/${loggedInUser._id}`) My Profile
            li
              a(href="/users/edit") Edit Profile
            li
              a(href="/users/logout") Logout &rarr;
          else
            li
              a(href="/join") Join &rarr;
            li
              a(href="/login") Login &rarr;
          li
            a(href="/search") Search &rarr;
      h1=pageTitle
    main
      block content
      include partials/footer.pug
      script(src="/static/js/main.js") 
      block scripts
    