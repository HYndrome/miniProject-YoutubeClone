# Introduction to EXPRESS

appì´ listen?
ì„œë²„ëŠ” í•­ìƒ ì¼œì ¸ìˆëŠ” ì»´í“¨í„° / requestë¥¼ listening / ê·¸ ë‹¤ìŒ response
í¬íŠ¸ë¥¼ ì§€ì •í•´ì¤˜ì•¼í•¨
í¬íŠ¸ëŠ” ì°½ë¬¸ ê°™ì€ ê±°ì„ ë³´í†µ ë†’ì€ ìˆ«ìëŠ” ë¹„ì–´ìˆìŒ
ì„œë²„ ì‹œì‘í•˜ê¸°

```js
import express from "express";

const PORT = 4000;
const app = express();

const handleListening = () =>
  console.log(`Server listening on port http://localhost:${PORT} ğŸš€`);
app.listen(PORT, handleListening);
```

## request

/ ëŠ” rootë¥¼ ì˜ë¯¸í•¨ (ì²« í˜ì´ì§€)

GET http method

http ì„œë²„ì™€ ì†Œí†µí•˜ëŠ” ë°©ë²•
ë¸Œë¼ìš°ì €ëŠ” ì›¹ì‚¬ì´íŠ¸ë¥¼ requestí•˜ê³  ì„œë²„ëŠ” í•´ë‹¹ í˜ì´ì§€ë¥¼ ê°€ì ¸ë‹¤ ì¤Œ

get methodì— ì‘ë‹µí•˜ëŠ” ë°©ë²•

```js
app.get("/", callbackfunction);
```

requestë¥¼ ë°›ì•„ì„œ í™•ì¸ê°€ëŠ¥

```js
const handleHome = (req, res) => {
  console.log(req);
};

app.get("/", handleHome);
```

ê·¸ëƒ¥ì‘ë‹µí•˜ê¸° (request ì¢…ë£Œ)

```js
const handleHome = (req, res) => {
  return res.end();
};
```

requestì— ì‘ë‹µ ë³´ë‚´ê¸°

```js
const handleHome = (req, res) => {
  return res.send("I still love you");
};
```

## middeware

ì¤‘ê°„ì— ìˆëŠ” ì†Œí”„íŠ¸ì›¨ì–´
requestì™€ response ì‚¬ì´ (ë¸Œë¼ìš°ì €ê°€ requestí•˜ê³  ë‚´ê°€ responseí•˜ê¸°ì „)
controllerëŠ” ì „ë¶€ë‹¤ middlewareê°€ ë  ìˆ˜ ìˆìŒ

```js
const gossipMiddleware = (req, res, next) => {
  console.log("I'm in the middle!");
  next();
};

const handleHome = (req, res) => {
  return res.send("I love middlewares");
};

app.get("/", gossipMiddleware, handleHome);
```

middlewareëŠ” requestì— ì‘ë‹µí•˜ì§€ ì•ŠìŒ, ë‹¤ìŒìœ¼ë¡œ ë„˜ê¸¸ ë¿

app.use(); global middlewareë¥¼ ê°€ëŠ¥í•˜ê²Œ í•´ì¤Œ
ìˆœì„œê°€ ì¤‘ìš”í•¨ useê°€ ë¨¼ì €ë‚˜ì˜¤ê³  ê·¸ ë‹¤ìŒì— getì´ ì™€ì•¼í•¨

```js
const gossipMiddleware = (req, res, next) => {
  console.log(`Someone is going to: ${req.url}`);
  next();
};

const handleHome = (req, res) => {
  return res.send("I love middlewares");
};

app.use(gossipMiddleware);
app.get("/", handleHome);
```

middlewareë¡œ responseí•˜ê¸° ì „ì— ì¤‘ê°„ì—ì„œ controller ì—­í• ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.
middlewareëŠ” ë°˜ë“œì‹œ nextê°€ ìˆì–´ì•¼ì§€ ì˜ë¯¸ê°€ ìˆìŒ (nextê°€ ìˆì–´ì•¼ì§€ ë‹¤ìŒìœ¼ë¡œ ì§„í–‰í•  ìˆ˜ ìˆê¸° ë•Œë¬¸)
ê´€ìŠµì ìœ¼ë¡œ ë§ˆì§€ë§‰ ì‘ë‹µì„ í•´ì£¼ëŠ” controllerì—ëŠ” nextë¥¼ ì“°ì§€ ì•ŠìŒ
